# =============================================================================
# Tabarnam Environment Variables
# =============================================================================
# Copy to .env and fill in your values.
# Variables marked [REQUIRED] must be set for the app to function.
# Variables marked [OPTIONAL] have sensible defaults or enable optional features.
#
# IMPORTANT: Never commit .env files containing real secrets.
# =============================================================================

# -----------------------------------------------------------------------------
# Cosmos DB  [REQUIRED]
# -----------------------------------------------------------------------------

COSMOS_DB_ENDPOINT=https://your-account.documents.azure.com:443/
COSMOS_DB_KEY=your-cosmos-primary-key

# Defaults are fine for most setups:
# COSMOS_DB_DATABASE=tabarnam-db
# COSMOS_DB_COMPANIES_CONTAINER=companies

# -----------------------------------------------------------------------------
# Azure Blob Storage  [REQUIRED for logo upload/scrape]
# -----------------------------------------------------------------------------

AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
# Or use a connection string instead:
# AZURE_STORAGE_CONNECTION_STRING=

# -----------------------------------------------------------------------------
# xAI Enrichment  [REQUIRED for imports]
# -----------------------------------------------------------------------------

# Base URL and key for the xAI / Grok enrichment API.
XAI_EXTERNAL_BASE=https://api.x.ai/v1
XAI_EXTERNAL_KEY=your-xai-api-key
# XAI_API_KEY=                # Alternative key variable (legacy)

# Model overrides (optional — handlers pick appropriate defaults):
# XAI_SEARCH_MODEL=
# XAI_CHAT_MODEL=
# XAI_MODEL=
# XAI_REQUEST_TIMEOUT_MS=

# -----------------------------------------------------------------------------
# Frontend (Vite build-time — embedded in browser bundle)
# -----------------------------------------------------------------------------

# API base URL. Leave empty for relative /api/ paths (default for SWA).
VITE_XAI_FUNCTIONS_BASE=
# VITE_API_BASE=              # Legacy alias — prefer VITE_XAI_FUNCTIONS_BASE

# Azure Storage account name for constructing logo blob URLs in the browser.
VITE_AZURE_STORAGE_ACCOUNT_NAME=

# -----------------------------------------------------------------------------
# Admin Authentication  [REQUIRED for admin panel login]
# -----------------------------------------------------------------------------

# JSON map of email → bcrypt hash, e.g. {"admin@example.com":"$2b$10$..."}
# ADMIN_CREDENTIALS=

# Or use plain-text pairs for local dev (comma-separated email:password):
# ADMIN_PLAIN_CREDENTIALS=admin@example.com:localdevpassword

# Secret for signing admin JWT tokens (default: "tabarnam_admin_secret"):
# ADMIN_JWT_SECRET=

# -----------------------------------------------------------------------------
# Queue / Enrichment Worker  [OPTIONAL — needed for async resume]
# -----------------------------------------------------------------------------

# ENRICHMENT_QUEUE_CONNECTION_SETTING=AzureWebJobsStorage
# ENRICHMENT_QUEUE_NAME=import-resume-worker
# BULK_IMPORT_QUEUE_CONNECTION_SETTING=
# BULK_IMPORT_QUEUE_NAME=

# -----------------------------------------------------------------------------
# Google APIs  [OPTIONAL — geocoding & translation]
# -----------------------------------------------------------------------------

# GOOGLE_MAPS_KEY=
# GOOGLE_TRANSLATE_ENDPOINT=https://translation.googleapis.com/language/translate/v2

# -----------------------------------------------------------------------------
# Import Tuning  [OPTIONAL — advanced, all have internal defaults]
# -----------------------------------------------------------------------------

# IMPORT_LOCK_TTL_MS=30000
# IMPORT_PRIMARY_HARD_TIMEOUT_MS=300000
# IMPORT_PRIMARY_STATUS_STAGE_MS=
# IMPORT_PRIMARY_UPSTREAM_TIMEOUT_CAP_MS=
# IMPORT_PRIMARY_MAX_ATTEMPTS=
# IMPORT_HEARTBEAT_STALE_MS=60000
# RESUME_STUCK_QUEUED_MS=
# RESUME_WATCHDOG_STALE_MS=
# MAX_RESUME_CYCLES_SINGLE=
# ADMIN_REFRESH_REVIEWS_DEADLINE_MS=

# -----------------------------------------------------------------------------
# Internal / Security  [OPTIONAL]
# -----------------------------------------------------------------------------

# Secret for internal job-to-job authentication:
# X_INTERNAL_JOB_SECRET=

# Debug endpoint access key:
# DEBUG_KEY=

# Internal API key for cross-service calls:
# INTERNAL_KEY=

# Azure Functions host key (used by Vite dev proxy for authenticated endpoints):
# FUNCTION_KEY=

# -----------------------------------------------------------------------------
# Proxy / Dedicated Worker  [OPTIONAL — advanced deployment topologies]
# -----------------------------------------------------------------------------

# WORKER_BASE_URL=
# XAI_IMPORT_PROXY_BASE=
# XAI_IMPORT_PROXY_KEY=
# IMPORT_START_PROXY_BASE=
# IMPORT_START_PROXY_KEY=

# -----------------------------------------------------------------------------
# Feature Flags  [OPTIONAL]
# -----------------------------------------------------------------------------

# TABARNAM_API_INDEX_MODE=
# TABARNAM_DISABLE_COSMOS=
# INTERNAL_ONLY_CHAT_COMPLETIONS=
# XAI_STUB=                  # Set to "1" to stub xAI responses for testing

# -----------------------------------------------------------------------------
# Azure Infrastructure  [OPTIONAL — only for ARM deployments]
# -----------------------------------------------------------------------------

# AZURE_SUBSCRIPTION_ID=
# AZURE_TENANT_ID=

# -----------------------------------------------------------------------------
# Monitoring  [OPTIONAL]
# -----------------------------------------------------------------------------

# APPINSIGHTS_INSTRUMENTATION_KEY=
