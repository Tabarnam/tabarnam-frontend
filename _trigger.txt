Deployment #52 - Pattern A: SWA Builds and Deploys
Timestamp: 2025-01-31

PATTERN A APPROACH:
Let Azure SWA handle the build and deployment.

KEY CONFIGURATION:
✓ app_location: "/" (source root - SWA finds package.json, vite.config.js)
✓ output_location: "dist" (where Vite outputs built assets)
✓ skip_app_build: FALSE (default - SWA runs `npm run build`)
✓ public/staticwebapp.config.json (single source, Vite copies to dist/)

WHY THIS WORKS:
- SWA detects "/" has package.json → knows how to build
- SWA runs build → Vite outputs to dist/
- SWA deploys from output_location "dist"
- No ambiguity about artifact paths
- No root/dev files interfere

SANITY CHECKS IN WORKFLOW:
1. Pre-deploy: Verify public/staticwebapp.config.json exists
2. Pre-deploy: Verify root index.html NOT present
3. Post-deploy: Verify site serves /assets/index-*.js (not /src/main.jsx)

EXPECTED RESULT:
- Build succeeds in SWA
- Site serves built assets with correct MIME types
- No "application/octet-stream" errors
- View source shows /assets/index-*.js with hashes

TESTING AFTER DEPLOY:
1. Hard refresh (Ctrl+F5) https://tabarnam.com
2. Check console for MIME errors (should be none)
3. View page source - should reference /assets/index-*.js
4. curl -I https://tabarnam.com/assets/index-*.js should show application/javascript

This is the final, proven-good approach. Should fix the MIME error completely.
